{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
 <div>
   <h2 class="mb-0">Attendance Detail</h2>
   <div class="text-muted">{{ emp.email }} ({{ emp.get_role_display }})</div>
 </div>
 <a class="btn btn-outline-secondary" href="{% url 'hr_attendance_list' %}">Back</a>
</div>

<div class="card shadow-sm">
 <div class="table-responsive">
   <table class="table table-hover mb-0 align-middle">
     <thead class="table-light">
       <tr>
         <th>Date</th>
         <th>Clock In</th>
         <th>Clock Out</th>
         <th>Total Time</th>
       </tr>
     </thead>
     <tbody>
     {% for r in rows %}
       <tr>
         <td class="fw-semibold">{{ r.date }}</td>
         <td>{% if r.clock_in %}{{ r.clock_in|date:"H:i:s" }}{% else %}-{% endif %}</td>
         <td>{% if r.clock_out %}{{ r.clock_out|date:"H:i:s" }}{% else %}-{% endif %}</td>
         <td>
           {% if r.clock_in and r.clock_out %}
             <span class="badge bg-success">{{ r.total_time }}</span>
           {% elif r.clock_in and not r.clock_out %}
             <span class="badge bg-warning text-dark">In progress</span>
           {% else %}
             <span class="text-muted">-</span>
           {% endif %}
         </td>
       </tr>
     {% empty %}
       <tr><td colspan="4" class="text-center text-muted p-4">No attendance records yet.</td></tr>
     {% endfor %}
     </tbody>
   </table>
 </div>
</div>
{% endblock %}
